<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>jQuery Calculator</title>

  <!-- Added link to the jQuery Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Added a link to Bootstrap-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

</head>
<body>

  <div class="jumbotron">
    <h1 id="mainTitle" class="text-center">Crystals Collector!!</h1>
    <!-- <h3 class="text-center">Click on the crystals and add to your score to try and match the target number!</h3> -->
  </div>

  <div class="container">

    <div class="row">

      <!-- top blank panel -->
      <div class="col-lg-12">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h2 class="panel-title"></h2>
          </div>
            <!-- Instruction Panel -->
          <div class="panel-body">
                <div id="instructions" class="col-lg-6">
           <h4>You will be given a random number at the start of the game.</h4>

           <h4>There are four crystals below.  By clicking on a crystal, you will add a specific amount of points to your total score.</h4>
          
           <h4>You win the game by matching your total score to the random number.  You lose the game if your total score goes above the random number.</h4>
          
           <h4>The value of each crystal is hidden to you until you click on it.</h4>
           
           <h4>Each time the game starts, the game will change the values of each crystal</h4>
          
           <h4>Good luck!</h4>
                </div>
                <!-- <div class ="col-lg-6"><h4>blank space?</h4></div> -->
            <br><br> <br><br><br><br> <br><br><br><br> <br><br><br><br>
            <div class="col-lg-4">
                    <h1>Total Score</h1>
                         </div>
                         <div class="col-lg-2">
                                <h1>Wins/Losses</h1>
                                     </div> 
            <br><br>    <br><br>   <br><br>                                
            <button id="crystal-1" class="crystal" value=""><h1>1</h1></button>
            <button id="crystal-2" class="crystal" value=""><h1>2</h1></button>
            <button id="crystal-3" class="crystal" value=""><h1>3</h1></button>
            <button id="crystal-4" class="crystal" value=""><h1>4</h1></button>
            
            <br><br><br><br>    <br><br>   <br><br> 
            
            <div class="panel-body">
                    <div class="col-lg-6">
               <h1>Your Total Score Is</h1>
                    </div>
                    <br><br><br><br><br>
            <div class="panel-body">
                    <div class="col-lg-6">
               <h1>Total Score</h1>
                    </div>

          </div>
        </div>
      </div>
     
    </div>
  </div>

  <script type="text/javascript">

    $(document).ready(function() {

      // Make our variables global to the runtime of our application
      var firstNumber;
      var secondNumber;
      var operator;
      var result;
      var isOperatorChosen;
      var isCalculated;

      // Use a function to initialize our calculator.
      // This way when the user hits clear, we can guarantee a reset of the app.
      function initializeCalculator() {
        firstNumber = "";
        secondNumber = "";
        operator = "";
        isOperatorChosen = false;
        isCalculated = false;

        $("#first-number, #second-number, #operator, #result").empty();
      }

      // Add an on click listener to all elements that have the class "number"
      $(".number").on("click", function() {

        // Check if we've already run a calculation, if so... we'll just.
        if (isCalculated) return;

        // If operator is chosen, we should be writing the secondNumber, otherwise, the firstNumber
        if (isOperatorChosen) {
          secondNumber += $(this).val();
          $("#second-number").text(secondNumber);

        }
        else {
          firstNumber +=  $(this).val();
          $("#first-number").text(firstNumber);
        }
      });

      // Add an on click listener to all elements that have the class "operator"
      $(".operator").on("click", function() {
        
        // Check if a first number has already been selected
        // Or we've already run a calculation, if so we just exit.
        if (!firstNumber || isCalculated) return;

        // Set isOperatorChosen to true so we start writing to secondNumber
        isOperatorChosen = true;

        // Store off the operator
        operator =  $(this).val();

        // Set the HTML of the #operator to the text of what was clicked
        $("#operator").text($(this).text());

      });


      // Add an on click listener to all elements that have the class "equal"
      $(".equal").on("click", function() {

        // If we already clicked equal, don't do the calculation again
        if (isCalculated) return;

        // Set isCalculated to true so that we don't get in a weird UI state by clicking buttons again
        isCalculated = true;

        // Use parseInt to convert our string representation of numbers into actual integers
        firstNumber = parseInt(firstNumber);
        secondNumber = parseInt(secondNumber);

        // Based on the operator that was chosen.
        // Then run the operation and set the HTML of the result of that operation
        if (operator === "plus") {
          result = firstNumber + secondNumber;
        }
        
        else if (operator === "minus") {
          result = firstNumber - secondNumber;
        }

        else if (operator === "times") {
          result = firstNumber * secondNumber;
        }

        else if (operator === "divide") {
          result = firstNumber / secondNumber;
        }

        else if (operator === "power") {
          result = Math.pow(firstNumber, secondNumber);
        }

        $("#result").text(result);
      });

      // Add an on click listener to all elements that have the class "clear"
      $(".clear").on("click", function() {

        // Call initializeCalculater so we can reset the state of our app
        initializeCalculator();

      });

      // Call initializeCalculater so we can set the state of our app
      initializeCalculator();
    });

</script>

</body>
</html>